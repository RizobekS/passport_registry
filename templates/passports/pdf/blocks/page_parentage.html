{# templates/passports/pdf/blocks/page_parentage.html #}
<style>
  .par-wrap { margin: 8mm 12mm 0; font-size: 8pt; line-height: 1.18; }
  .par-title { text-align:center; font-weight:700; font-size: 12pt; margin-bottom: 4mm; }

  .hr { border-top:1px solid #000; margin: 3.2mm 0 4.2mm; }

  /* сетка: две колонки как в макете */
  .cols { display:grid; grid-template-columns: 1fr 1fr; column-gap: 18mm; row-gap: 2.4mm; }

  /* строка-пара: слева подписи (узкие), справа — значение на «линии» */
  .pair { display:flex; align-items:flex-end; gap: 4mm; margin: 2.6mm 0; }
  .pair .lab { min-width: 36mm; }
  .pair .lab b { font-weight:700; }
  .muted { opacity:.95; }

  /* линия с продолжением вправо как в образце */
  .line { display:flex; align-items:flex-end; width:100%; }
  .val { display:inline-block; font-weight:700; white-space:nowrap; border-bottom:1px solid #000; padding:0 .8mm .1mm; }
  .tail { flex:1; border-bottom:1px solid #000; }

  .nowrap { white-space:nowrap; }

  /* первая строка (Place of birth) — полная ширина */
  .row-full { display:flex; align-items:flex-end; gap: 8mm; }
  .row-full .lab { min-width: 36mm; }
  .row-full .fill { flex:1; border-bottom:1px solid #000; height:3.8mm; }
</style>

<div class="par-wrap">
  <div class="par-title">Насл-насаби/Родословная/Parentage</div>

  {# 1) Место рождения #}
  <div class="row-full">
    <div class="lab">Туғилган жойи<br>Место рождения<br><span class="muted">Place of birth</span></div>
    <div class="line" style="flex:1">
      <span class="val">{{ horse.country_of_birth }}</span><span class="tail"></span>
    </div>
  </div>

  <div class="hr"></div>

  {# 2) Две колонки #}
  <div class="cols">
    <div>
      <div class="pair">
        <div class="lab">Лакаби<br>Кличка<br><span class="muted">Name</span></div>
        <div class="line"><span class="val">{{ parentage.name }}</span><span class="tail"></span></div>
      </div>

      <div class="pair">
        <div class="lab">Тамға<br>Тавро<br><span class="muted">Brand</span></div>
        <div class="line"><span class="val">{{ parentage.brand }}</span><span class="tail"></span></div>
      </div>

      <div class="pair">
        <div class="lab">Зоти<br>Порода<br><span class="muted">Breed</span></div>
        <div class="line"><span class="val">{{ parentage.breed }}</span><span class="tail"></span></div>
      </div>

      <div class="pair">
        <div class="lab">Жинси<br>Пол<br><span class="muted">Sex</span></div>
        <div class="line"><span class="val">{{ parentage.sex }}</span><span class="tail"></span></div>
      </div>
    </div>

    <div>
      <div class="pair">
        <div class="lab">Туси<br>Масть<br><span class="muted">Colour</span></div>
        <div class="line"><span class="val">{{ parentage.colour }}</span><span class="tail"></span></div>
      </div>

      {# ДНК № / ГПК № / SHB № — одно и то же: печатаем один номер #}
      <div class="pair">
        <div class="lab">ДНК №<br>ГПК №<br><span class="muted">SHB №</span></div>
        <div class="line">
          <span class="val">
            {{ parentage.dna_no }}
          </span><span class="tail"></span>
        </div>
      </div>

      <div class="pair">
        <div class="lab">Қайд этиш рақами:<br>Регистрационный номер:<br><span class="muted">Registration Number</span></div>
        <div class="line"><span class="val nowrap">{{ parentage.reg_no }}</span><span class="tail"></span></div>
      </div>
    </div>
  </div>

  <div class="hr"></div>

  <div class="cols">
    <div>
      <div class="pair">
        <div class="lab">Туғилган санаси<br>Дата рождения<br><span class="muted">Date of birth</span></div>
        <div class="line"><span class="val">{{ parentage.birth_date|date:"d.m.Y" }}</span><span class="tail"></span></div>
      </div>
    </div>
    <div>
      <div class="pair">
        <div class="lab">Иммунитет экспертизаси рақами, санаси<br>№ экспертизы иммунитета и дата<br><span class="muted">Immunity expertise №, date</span></div>
        <div class="line">
          <span class="val">
            {% if parentage.immunity_no %}{{ parentage.immunity_no }}{% endif %} /
            {% if parentage.immunity_date %}<span class="nowrap">{{ parentage.immunity_date|date:"d.m.Y" }}</span>{% endif %}
          </span><span class="tail"></span>
        </div>
      </div>
    </div>
  </div>
</div>
