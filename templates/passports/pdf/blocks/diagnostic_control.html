{# templates/passports/pdf/blocks/page_diagnostic_control.html #}
<style>
  /* Чуть меньше поля на этой странице */
  @page diag { margin: 10mm 10mm 14mm 10mm; }
  .diag-page { page: diag; }

  .dc-wrap  { margin: 4mm 6mm 0; font-size: var(--font-base); }
  .dc-title { text-align:center; font-weight: var(--th-weight);
              font-size: var(--font-title); line-height:1.2; margin-bottom: 5mm; }

  .dc-table { width:100%; border-collapse: collapse; table-layout: fixed; }
  .dc-table th, .dc-table td { border:1px solid #000; padding: 1.6mm 1.2mm; vertical-align: top; }
  .dc-table th { text-align:center; font-weight: var(--th-weight);
                 font-size: 8pt; line-height: 1.15;
                 word-break: break-word; hyphens: auto; }

  .c-date   { text-align:center; }
  .c-urine, .c-blood, .c-others { text-align:center; }
  .row { height: 11mm; }
  .chk { font-size: 12pt; line-height: 1; }
</style>

<div class="dc-wrap diag-page">
  <div class="dc-title">
    Диагностик текширишлар ўтказилганлиги тўғрисида маълумотлар<br>
    Данные о проведении диагностических исследований<br>
    Data on diagnostic medication control
  </div>

  <table class="dc-table">
    {# 6 жёстких колонок: 14% + 26% + 12% + 12% + 12% + 24% = 100% #}
    <colgroup>
      <col style="width:14%">
      <col style="width:26%">
      <col style="width:12%">
      <col style="width:12%">
      <col style="width:12%">
      <col style="width:24%">
    </colgroup>
    <thead>
      <tr>
        <th rowspan="2" class="c-date">
          Сана (кун, ой, йил)<br>
          Дата (число, месяц, год)<br>
          <i>Date (Day, month, year)</i>
        </th>
        <th rowspan="2" class="c-place">
          Мусобақа ўтказиладиган жой<br>
          Место проведения соревнования<br>
          <i>Place of the event</i>
        </th>
        <th colspan="3">Намуна / Образец / <i>Sample</i></th>
        <th rowspan="2" class="c-vet">
          Ветеринария врачининг Ф.И.Ш., имзоси, муҳри<br>
          Ф.И.О. ветеринарного врача, подпись, печать<br>
          <i>Name, signature and stamp of official veterinarian</i>
        </th>
      </tr>
      <tr>
        <th class="c-urine">Сийдик / Моча / <i>Urine</i></th>
        <th class="c-blood">Қон / Кровь / <i>Blood</i></th>
        <th class="c-others">Бошқалар / Другие / <i>Others</i></th>
      </tr>
    </thead>
    <tbody>
      {% for r in rows %}
        {% if r %}
          <tr class="row">
            <td class="c-date">{{ r.date|date:"d.m.Y" }}</td>
            <td class="c-place">{{ r.place }}</td>
            <td class="c-urine">{% if r.urine %}<span class="chk">✓</span>{% endif %}</td>
            <td class="c-blood">{% if r.blood %}<span class="chk">✓</span>{% endif %}</td>
            <td class="c-others">{% if r.others %}{{ r.others }}{% endif %}</td>
            <td class="c-vet">{{ r.vet_full }}</td>
          </tr>
        {% else %}
          <tr class="row"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
</div>
