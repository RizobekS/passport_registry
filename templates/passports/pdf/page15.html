{% extends "passports/pdf/base.html" %}
{% load pdf_utils %}

{% block extra_css %}
<style>
  .offs-table{ width:100%; border-collapse:collapse; table-layout:fixed; margin-top:3mm; }
  .offs-table th,.offs-table td{ border:0.6pt solid #333; vertical-align:top; padding:2mm; line-height:1.25; font-size:10.5pt; }

  /* ширины колонок, близкие к бланку */
  .c-no{ width:7%; }
  .c-par-name{ width:23%; }
  .c-par-breed{ width:20%; }
  .c-colour{ width:12%; }
  .c-sex{ width:10%; }
  .c-brand{ width:13%; }
  .c-birth{ width:15%; }

  .title{ text-align:center; margin:0 0 2mm 0; }
  .tri{ display:block; text-align:center; }
  .row-fill{ height:12mm; }
  .lined{ min-height:10mm; background-image:linear-gradient(to bottom,transparent 92%,#bbb 92%,#bbb 94%,transparent 94%); background-size:100% 6mm; padding:1mm 1.25mm; }
  .small{ font-size:9pt; }
</style>
{% endblock %}

{% block content %}
  <h3 class="title">
    Қулун олиш<br>Приплод<br><span class="muted">Offspring</span>
  </h3>

  <table class="offs-table">
    <colgroup>
      <col class="c-no"><col class="c-par-name"><col class="c-par-breed">
      <col class="c-colour"><col class="c-sex"><col class="c-brand"><col class="c-birth">
    </colgroup>

    <thead>
      <tr>
        <th rowspan="2">№/P</th>

        <th>
          <span class="tri">Ота-онасининг лакаби</span>
          <span class="tri">Кличка родителей</span>
          <span class="tri"><strong>Parental name</strong></span>
        </th>
        <th>
          <span class="tri">Ота-онасининг зоти</span>
          <span class="tri">Порода родителей</span>
          <span class="tri"><strong>Parental breed</strong></span>
        </th>

        <th rowspan="2">
          <span class="tri">Туси</span>
          <span class="tri">Масть</span>
          <span class="tri"><strong>Colour</strong></span>
        </th>
        <th rowspan="2">
          <span class="tri">Жинси</span>
          <span class="tri">Пол</span>
          <span class="tri"><strong>Sex</strong></span>
        </th>
        <th rowspan="2">
          <span class="tri">Тамга рақами</span>
          <span class="tri">Тавро №</span>
          <span class="tri"><strong>Brand №</strong></span>
        </th>
        <th rowspan="2">
          <span class="tri">Туғилган йили</span>
          <span class="tri">Год рождения</span>
          <span class="tri"><strong>Date of birth</strong></span>
        </th>
      </tr>
      <tr class="small">
        <th><span class="tri">Отаси / Онаси — Отец / Мать — Sire / Dam</span></th>
        <th><span class="tri">Отаси / Онаси — Отец / Мать — Sire / Dam</span></th>
      </tr>
    </thead>

    <tbody>
      {% for i,o in horse.offspring.all|dictsort:"birth_year" %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>Отец: {{ o.sire_name|dash }}<br>Мать: {{ o.dam_name|dash }}</td>
          <td>Отец: {{ o.sire_breed|dash }}<br>Мать: {{ o.dam_breed|dash }}</td>
          <td>{{ o.colour|dash }}</td>
          <td>{{ o.sex|dash }}</td>
          <td>{{ o.brand_no|dash }}</td>
          <td>{% if o.birth_year %}{{ o.birth_year }}{% else %}—{% endif %}</td>
        </tr>
      {% endfor %}

      {# Пустые строки #}
      <tr class="row-fill"><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td></tr>
      <tr class="row-fill"><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td></tr>
      <tr class="row-fill"><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td><td class="lined"></td></tr>
    </tbody>
  </table>
{% endblock %}
