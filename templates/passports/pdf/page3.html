{% extends "passports/pdf/base.html" %}
{% load pdf_utils %}

{% block extra_css %}
<style>
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-auto-rows: auto;
    gap: 6mm;
    margin-top: 4mm;
  }
  figure.photo {
    margin: 0;
    border: 0.6pt solid #333;
    padding: 2mm;
    height: auto;
    display: flex;
    flex-direction: column;
  }

  .imgwrap {
    width: 100%;
    height: 55mm;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 0.4pt dashed #bbb;
    background: #fff;
  }

  .imgwrap img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }
  .placeholder {
    width: 100%;
    height: 100%;
    font-size: 10pt;
    color: #888;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  figcaption {
    margin-top: 2mm;
    text-align: center;
    font-size: 9pt;
    line-height: 1.25;
  }
  .muted { color:#555; }
</style>
{% endblock %}

{% block content %}
  <h3>График тасвири<br>Графическое изображение <br> Graphical photos<br><span class="muted">(реальные фотографии лошади)</span></h3>

  <!-- Ряд 1: правая сторона — верхний уровень глаз — левая сторона -->
  <div class="grid">
    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_right_side %}
          <img src="{{ horse.photo_right_side|fileuri }}" alt="Right side">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Ўнг ён томонидан кўриниш<br>
        Правая боковая сторона<br>
        <strong>Right side</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_upper_eye_level %}
          <img src="{{ horse.photo_upper_eye_level|fileuri }}" alt="Upper eye level">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Кўзнинг юқори қисми<br>
        Верхний уровень глаза<br>
        <strong>Upper eye level</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_left_side %}
          <img src="{{ horse.photo_left_side|fileuri }}" alt="Left side">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Чап ён томонидан кўриниш<br>
        Левая боковая сторона<br>
        <strong>Left side</strong>
      </figcaption>
    </figure>
  </div>

  <!-- Ряд 2: передние ноги спереди — морда крупно — задние ноги спереди -->
  <div class="grid" style="margin-top: 4mm;">
    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_front_view_forelegs %}
          <img src="{{ horse.photo_front_view_forelegs|fileuri }}" alt="Forelegs front view">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Олд оёқ (олдиндан)<br>
        Передние ноги (вид спереди)<br>
        <strong>Forelegs, front view</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_muzzle %}
          <img src="{{ horse.photo_muzzle|fileuri }}" alt="Muzzle">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Тумшуқ<br>
        Морда (крупно)<br>
        <strong>Muzzle</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_front_view_hind_legs %}
          <img src="{{ horse.photo_front_view_hind_legs|fileuri }}" alt="Hind legs front view">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Орқа оёқ (олдиндан)<br>
        Задние ноги (вид спереди)<br>
        <strong>Hind legs, front view</strong>
      </figcaption>
    </figure>
  </div>

  <!-- Ряд 3: передние ноги сзади — шея снизу — задние ноги сзади -->
  <div class="grid" style="margin-top: 4mm;">
    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_hind_view_forelegs %}
          <img src="{{ horse.photo_hind_view_forelegs|fileuri }}" alt="Forelegs hind view">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Олд оёқ (орқадан)<br>
        Передние ноги (вид сзади)<br>
        <strong>Forelegs, hind view</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_neck_lower_view %}
          <img src="{{ horse.photo_neck_lower_view|fileuri }}" alt="Neck lower view">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Бўйин (паст томондан)<br>
        Шея (снизу)<br>
        <strong>Neck lower view</strong>
      </figcaption>
    </figure>

    <figure class="photo">
      <div class="imgwrap">
        {% if horse.photo_hind_view_hind_legs %}
          <img src="{{ horse.photo_hind_view_hind_legs|fileuri }}" alt="Hind legs hind view">
        {% else %}
          <div class="placeholder">Нет фото</div>
        {% endif %}
      </div>
      <figcaption>
        Орқа оёқ (орқадан)<br>
        Задние ноги (вид сзади)<br>
        <strong>Hind legs, hind view</strong>
      </figcaption>
    </figure>
  </div>
{% endblock %}
